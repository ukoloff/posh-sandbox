-- `tc-db-main`.addomains определение

CREATE TABLE `addomains` (
  `ID` int(11) NOT NULL AUTO_INCREMENT,
  `DOMAIN_NAME` varchar(255) CHARACTER SET utf8 DEFAULT NULL,
  `ADDR` varchar(255) CHARACTER SET utf8 DEFAULT NULL,
  `LOGIN` varchar(255) CHARACTER SET utf8 DEFAULT NULL,
  `PASS` varchar(255) CHARACTER SET utf8 DEFAULT NULL,
  PRIMARY KEY (`ID`)
) ENGINE=MyISAM AUTO_INCREMENT=2 DEFAULT CHARSET=latin1;

-- `tc-db-main`.personal определение

CREATE TABLE `personal` (
  `ID` int(11) NOT NULL AUTO_INCREMENT,
  `PARENT_ID` int(11) DEFAULT NULL,
  `TYPE` enum('DEP','EMP') DEFAULT NULL,
  `EMP_TYPE` enum('EMP','GUEST','AUTO_PERSONAL','AUTO_OFFICIAL','QR_CODE') NOT NULL,
  `NAME` varchar(200) CHARACTER SET utf8 DEFAULT NULL,
  `DESCRIPTION` mediumtext CHARACTER SET utf8 DEFAULT NULL,
  `POS` varchar(255) CHARACTER SET utf8 DEFAULT NULL,
  `TABID` mediumtext CHARACTER SET utf8 DEFAULT NULL,
  `STATUS` enum('AVAILABLE','FIRED','INTERNAL') DEFAULT 'AVAILABLE',
  `CODEKEY` varbinary(8) DEFAULT NULL,
  `CODEKEY_DESC` varchar(255) CHARACTER SET utf8 DEFAULT NULL,
  `CODEKEYTIME` datetime DEFAULT NULL,
  `CODEKEY_DISP_FORMAT` varchar(32) DEFAULT 'W26',
  `MF_UID` varbinary(10) DEFAULT NULL,
  `SOAA_KEY_STATUS` enum('UPDATE_REQUIRED','UPDATE_NOT_REQUIRED') DEFAULT 'UPDATE_REQUIRED',
  `SOAA_UID` varchar(255) DEFAULT NULL,
  `EXPTIME` datetime DEFAULT NULL,
  `CREATEDTIME` datetime DEFAULT NULL,
  `FIREDTIME` datetime DEFAULT NULL,
  `BADGE` int(11) DEFAULT 1,
  `BADGEB` int(11) DEFAULT 0,
  `LOCATIONZONE` int(11) DEFAULT 0,
  `LOCATIONACT` datetime DEFAULT NULL,
  `APB_ON` tinyint(1) DEFAULT 1,
  `APL_ON` tinyint(1) DEFAULT 1,
  `APL_EXPTIME` datetime DEFAULT NULL,
  `NTFY_PASS_ENABLED` tinyint(1) DEFAULT 0,
  `NTFY_TYPE` varchar(32) DEFAULT 'SMS',
  `NTFY_STARTDATE` date DEFAULT NULL,
  `NTFY_ENDDATE` date DEFAULT NULL,
  `NTFY_PASS_TEXT` varchar(1000) CHARACTER SET utf8 DEFAULT NULL,
  `NTFY_PAY_ENABLED` tinyint(1) DEFAULT 0,
  `NTFY_PAY_TEXT` varchar(1000) CHARACTER SET utf8 DEFAULT NULL,
  `NTFY_GSTAPPL_ENABLED` tinyint(1) DEFAULT 0,
  `NTFY_GSTAPPL_TEXT` varchar(1000) CHARACTER SET utf8 DEFAULT NULL,
  `NTFY_PAY_DEC_ENABLED` tinyint(1) DEFAULT 0,
  `NTFY_PAY_DEC_TEXT` varchar(1000) CHARACTER SET utf8 DEFAULT NULL,
  `NTFY_PAY_DEC_THR` double DEFAULT 0,
  `NTFY_LAST_TIME` datetime DEFAULT NULL,
  `NTFY_LAST_AP` int(11) DEFAULT 0,
  `NTFY_LAST_DIR` int(11) DEFAULT 0,
  `NTFY_LAST_SENT` tinyint(1) DEFAULT 1,
  `SMS_TARGETNUMBER` varchar(1000) CHARACTER SET utf8 DEFAULT NULL,
  `EMAIL` varchar(1000) CHARACTER SET utf8 DEFAULT NULL,
  `EMAIL_SUBJECT` varchar(1000) CHARACTER SET utf8 DEFAULT NULL,
  `TELEGRAM_CHATID` varchar(1000) CHARACTER SET utf8 DEFAULT NULL,
  `LASTPASS_AP` int(11) DEFAULT 0,
  `AD_ENABLED` tinyint(1) DEFAULT 0,
  `AD_DOMAIN_ID` int(11) DEFAULT 0,
  `AD_USER_DN` varchar(4000) CHARACTER SET utf8 DEFAULT NULL,
  `AD_SYNC_PENDING` int(11) DEFAULT 0,
  `EXTSOURCEID` int(11) NOT NULL DEFAULT 0,
  `EXTID` varchar(128) CHARACTER SET utf8 DEFAULT NULL,
  `USER_ENABLED` tinyint(1) DEFAULT 0,
  `USER_LOGIN` varchar(255) CHARACTER SET utf8 DEFAULT NULL,
  `USER_PASSWORD` mediumtext CHARACTER SET utf8 DEFAULT NULL,
  `USER_GSTAPPL_RANGE` enum('ALL','OWN') DEFAULT 'ALL',
  `USER_GSTAPPL_CREATE` tinyint(1) DEFAULT 0,
  `USER_GSTAPPL_MODIFY` tinyint(1) DEFAULT 0,
  `USER_DEPSRESTRICTION` tinyint(1) DEFAULT 0,
  `USER_RULESRESTRICTION` tinyint(1) DEFAULT 0,
  `USER_RULESEDITINGRESTRICTION` tinyint(1) DEFAULT 0,
  `USER_MONVIEW_POLICY` enum('FULL_ACCESS','RO_ACCESS','RESTRICTED_ACCESS') DEFAULT 'FULL_ACCESS',
  `USER_APRESTRICTION` tinyint(1) DEFAULT 0,
  `USER_FLOORSRESTRICTION` tinyint(1) DEFAULT 0,
  `USER_REPRESTRICTION` tinyint(1) DEFAULT 0,
  `USER_ALMRESTRICTION` tinyint(1) DEFAULT 0,
  `USER_EXITPASSWORD` varchar(40) DEFAULT '',
  `USER_EXITPASSWORD_USED` tinyint(1) DEFAULT 0,
  `USER_T_EDITPLANS` tinyint(1) DEFAULT 1,
  `USER_T_CARDLOGIN` tinyint(1) DEFAULT 1,
  `USER_CHOWNPASS` tinyint(1) DEFAULT 1,
  `USER_WRITEDB` tinyint(1) DEFAULT 1,
  `USER_T_HW` tinyint(1) DEFAULT 1,
  `USER_T_HW_DEL` tinyint(1) DEFAULT 1,
  `USER_T_HW_ADD` tinyint(1) DEFAULT 1,
  `USER_T_HW_EDIT` tinyint(1) DEFAULT 1,
  `USER_T_HW_MODE` tinyint(1) DEFAULT 1,
  `USER_T_MON` tinyint(1) DEFAULT 1,
  `USER_T_MON_CNTLAP` tinyint(1) DEFAULT 1,
  `USER_T_MON_CNTLALM` tinyint(1) DEFAULT 1,
  `USER_T_MON_ALLOWANONPASS` tinyint(1) DEFAULT 1,
  `USER_T_MON_ALLOWPASS` tinyint(1) DEFAULT 1,
  `USER_T_MON_ALLOWAUTHPASS` tinyint(1) DEFAULT 1,
  `USER_T_FACE` tinyint(1) DEFAULT 1,
  `USER_T_PAYACC` tinyint(1) DEFAULT 1,
  `USER_T_PERSONAL` tinyint(1) DEFAULT 1,
  `USER_T_PERSONAL_ADD` tinyint(1) DEFAULT 1,
  `USER_T_PERSONAL_DEL` tinyint(1) DEFAULT 1,
  `USER_T_PERSONAL_EDIT` tinyint(1) DEFAULT 1,
  `USER_T_PERSONAL_BADGES` tinyint(1) DEFAULT 1,
  `USER_T_PERSONAL_ACC` tinyint(1) DEFAULT 1,
  `USER_T_PERSONAL_SMS` tinyint(1) DEFAULT 1,
  `USER_T_PERSONAL_ACCESS` tinyint(1) DEFAULT 1,
  `USER_T_PERSONAL_SETZONE` tinyint(1) DEFAULT 1,
  `USER_T_PERSONAL_AD` tinyint(1) DEFAULT 1,
  `USER_T_PERSONAL_POS` tinyint(1) DEFAULT 1,
  `USER_T_PAYINC` tinyint(1) DEFAULT 1,
  `USER_T_PAYACCMNG` tinyint(1) DEFAULT 0,
  `USER_T_PAYDESK` tinyint(1) DEFAULT 1,
  `USER_T_PAYDESK_ACCINC` tinyint(1) DEFAULT 1,
  `USER_T_PAYDESK_MANUALSELECT` tinyint(1) DEFAULT 0,
  `USER_T_PAYDESK_FIXOVERLIMIT` tinyint(1) DEFAULT 1,
  `USER_T_PAYDESKLITE` tinyint(1) DEFAULT 0,
  `USER_T_PAYDESKLITE_MANUALSEL` tinyint(1) DEFAULT 0,
  `USER_T_RULES` tinyint(1) DEFAULT 1,
  `USER_T_PAYMENU` tinyint(1) DEFAULT 1,
  `USER_T_AUTOPARK` tinyint(1) DEFAULT 1,
  `USER_T_GUESTS` tinyint(1) DEFAULT 1,
  `USER_T_GUESTS_EDIT` tinyint(1) DEFAULT 1,
  `USER_T_GUESTS_DELETEPD` tinyint(1) DEFAULT 1,
  `USER_T_EVENTS` tinyint(1) DEFAULT 1,
  `USER_T_ALARM` tinyint(1) DEFAULT 1,
  `USER_T_ALARM_EDITCONF` tinyint(1) DEFAULT 1,
  `USER_T_ALARM_CMD` tinyint(1) DEFAULT 1,
  `USER_T_ARCHIVE` tinyint(1) DEFAULT 1,
  `USER_T_REPORTS` tinyint(1) DEFAULT 1,
  `USER_T_REPORTS_DRAGS` tinyint(1) DEFAULT 1,
  `USER_T_REPORTS_EXPLOSIVES` tinyint(1) DEFAULT 1,
  `USER_T_USERS` tinyint(1) DEFAULT 0,
  `USER_LOCALSETTINGS` tinyint(1) DEFAULT 1,
  `USER_T_PLANS` tinyint(1) DEFAULT 1,
  `USER_CNTLMODULES` tinyint(1) DEFAULT 1,
  `USER_T_OD` tinyint(1) DEFAULT 1,
  `USER_T_PARKINGTARIFFS` tinyint(1) DEFAULT 1,
  `USER_T_PARKINGPAY` tinyint(1) DEFAULT 1,
  `USER_OIF` tinyint(1) DEFAULT 1,
  `USER_T_NFCTERMINAL` tinyint(1) DEFAULT 0,
  `USER_T_NFCTERMINAL_REG_IN` tinyint(1) DEFAULT 0,
  `USER_T_NFCTERMINAL_REG_OUT` tinyint(1) DEFAULT 0,
  `USER_T_NFCTERMINAL_REG_AUTO` tinyint(1) DEFAULT 0,
  `USER_T_KEYGUARD` tinyint(1) DEFAULT 1,
  `USER_T_SSPILOGIN` tinyint(1) DEFAULT 1,
  `USER_T_MOLOCKERS` tinyint(1) DEFAULT 1,
  `USER_T_UNLOCK_MOLOCKERS` tinyint(1) DEFAULT 1,
  `USER_T_EDIT_MOLOCKERS_SETTINGS` tinyint(1) DEFAULT 1,
  `USER_APPLS_SEE_CURRENT` tinyint(1) DEFAULT 1,
  `USER_APPLS_SEE_ALL` tinyint(1) DEFAULT 1,
  `USER_APPLS_EDIT_CURRENT` tinyint(1) DEFAULT 0,
  `USER_APPLS_EDIT_ALL` tinyint(1) DEFAULT 1,
  `LASTLPR_AP` int(11) DEFAULT 0,
  `LASTLPR_DIR` int(11) DEFAULT 0,
  `LASTLPR_TIME` datetime DEFAULT NULL,
  `IDLE_LASTNTFY` datetime DEFAULT NULL,
  `GUEST_ID` bigint(20) DEFAULT NULL,
  `USER_RULEDEPSRESTRICTION` tinyint(1) DEFAULT 0,
  `USER_RULEDEPSEDITINGRESTRICTION` tinyint(1) DEFAULT 0,
  `DEPLOYMENT_ID` varchar(255) CHARACTER SET utf8 DEFAULT NULL,
  `USER_T_NFCTERMINAL_SANCTIONS_POSSIBILITY` tinyint(1) DEFAULT 0,
  `USER_OAUTH_ID` varchar(30) DEFAULT '',
  `USER_REST_API` tinyint(1) DEFAULT 0,
  `USER_APPLS_SET_OWN_ROUTE` tinyint(1) DEFAULT 1,
  `USER_APPLS_DECLINE_ALL` tinyint(1) DEFAULT 1,
  `START_TIME` datetime DEFAULT NULL,
  `USER_T_GUESTS_QR` tinyint(1) DEFAULT 1,
  `ACCESS_OBJECT_START_TIME` datetime DEFAULT current_timestamp(),
  `ACCESS_OBJECT_END_TIME` datetime DEFAULT NULL,
  `USER_ACCESS_CLIENT` tinyint(1) DEFAULT 1,
  `USER_T_GUESTS_ADD_RECORD` tinyint(1) DEFAULT 1,
  `USER_T_GUESTS_ADD_RECORD_QRCODE` tinyint(1) DEFAULT 1,
  `USER_T_GUESTS_ADD_RECORD_EMP` tinyint(1) DEFAULT 1,
  `USER_T_GUESTS_CLOSE_RECORD` tinyint(1) DEFAULT 1,
  `deployment_entity_id` bigint(20) DEFAULT NULL,
  PRIMARY KEY (`ID`),
  KEY `ID` (`ID`),
  KEY `PARENT_ID` (`PARENT_ID`),
  KEY `EXTID` (`EXTID`),
  KEY `CODEKEY` (`CODEKEY`),
  KEY `STATUS` (`STATUS`),
  KEY `USER_ENABLED` (`USER_ENABLED`)
) ENGINE=InnoDB AUTO_INCREMENT=19444 DEFAULT CHARSET=latin1;
